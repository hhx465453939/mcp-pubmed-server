# EndNoteå¯¼å‡ºåŠŸèƒ½ä½¿ç”¨æŒ‡å—

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

EndNoteå¯¼å‡ºåŠŸèƒ½æ˜¯MCP PubMedæœåŠ¡å™¨çš„æ ¸å¿ƒç‰¹æ€§ï¼Œè‡ªåŠ¨å°†æœç´¢åˆ°çš„è®ºæ–‡è½¬æ¢ä¸ºEndNoteå…¼å®¹çš„æ ¼å¼ï¼Œä¸ºç ”ç©¶äººå‘˜æä¾›ä¸€é”®å¯¼å…¥æ–‡çŒ®ç®¡ç†å·¥å…·çš„ä¾¿åˆ©ã€‚

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### 1. è‡ªåŠ¨å¯¼å‡º
- **é»˜è®¤å¼€å¯**: æ¯æ¬¡æœç´¢è‡ªåŠ¨å¯¼å‡ºè®ºæ–‡
- **åŒæ ¼å¼æ”¯æŒ**: åŒæ—¶ç”ŸæˆRISå’ŒBibTeXæ ¼å¼
- **æ™ºèƒ½ç¼“å­˜**: é¿å…é‡å¤å¯¼å‡ºç›¸åŒè®ºæ–‡

### 2. æ ¼å¼æ”¯æŒ
- **RISæ ¼å¼**: EndNoteã€Zoteroã€Mendeleyç­‰ä¸»æµå·¥å…·æ”¯æŒ
- **BibTeXæ ¼å¼**: LaTeXã€Overleafç­‰å­¦æœ¯å†™ä½œå·¥å…·æ”¯æŒ
- **æ ‡å‡†å…¼å®¹**: éµå¾ªå›½é™…æ ‡å‡†æ ¼å¼è§„èŒƒ

### 3. æ–‡ä»¶ç®¡ç†
- **è‡ªåŠ¨å‘½å**: ä½¿ç”¨PMIDä½œä¸ºæ–‡ä»¶å
- **ç´¢å¼•ç®¡ç†**: å®Œæ•´çš„å¯¼å‡ºè®°å½•å’Œç»Ÿè®¡
- **æ¸…ç†æœºåˆ¶**: è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ–‡ä»¶

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### ç¯å¢ƒé…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```bash
# EndNoteå¯¼å‡ºé…ç½®
ENDNOTE_EXPORT=enabled  # enabled, disabled
```

### è‡ªåŠ¨å¯¼å‡º

æ¯æ¬¡ä½¿ç”¨ `pubmed_search` æœç´¢æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¯¼å‡ºè®ºæ–‡ï¼š

```json
{
  "name": "pubmed_search",
  "arguments": {
    "query": "machine learning healthcare",
    "max_results": 10
  }
}
```

**è¿”å›ç»“æœåŒ…å«å¯¼å‡ºä¿¡æ¯**:
```json
{
  "success": true,
  "total": 150,
  "found": 10,
  "articles": [...],
  "endnote_export": {
    "success": true,
    "exported": 10,
    "failed": 0,
    "results": [...]
  }
}
```

### æ‰‹åŠ¨ç®¡ç†

ä½¿ç”¨ `pubmed_endnote_status` å·¥å…·ç®¡ç†å¯¼å‡ºï¼š

```json
{
  "name": "pubmed_endnote_status",
  "arguments": {
    "action": "stats"  // stats, list, clean, clear
  }
}
```

## ğŸ“ æ–‡ä»¶ç»“æ„

### ç›®å½•ç»“æ„
```
cache/
â”œâ”€â”€ papers/           # è®ºæ–‡å…ƒæ•°æ®ç¼“å­˜
â”œâ”€â”€ fulltext/         # å…¨æ–‡PDFç¼“å­˜
â”œâ”€â”€ endnote/          # EndNoteå¯¼å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ index.json   # å¯¼å‡ºç´¢å¼•
â”‚   â”œâ”€â”€ 26000488.ris # RISæ ¼å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ 26000488.bib # BibTeXæ ¼å¼æ–‡ä»¶
â”‚   â””â”€â”€ 26000487.ris
â””â”€â”€ index.json       # ä¸»ç´¢å¼•æ–‡ä»¶
```

### æ–‡ä»¶æ ¼å¼

#### RISæ ¼å¼ç¤ºä¾‹
```
TY  - JOUR
TI  - Machine Learning in Healthcare: A Systematic Review
AU  - Smith, John
AU  - Doe, Jane
T2  - Nature Medicine
PY  - 2024
VL  - 30
IS  - 3
SP  - 123-145
DO  - 10.1038/s41591-024-12345-6
PMID - 26000488
AB  - This systematic review examines the applications of machine learning...
KW  - machine learning
KW  - healthcare
KW  - artificial intelligence
LA  - eng
DB  - PubMed
ER  - 
```

#### BibTeXæ ¼å¼ç¤ºä¾‹
```
@article{smith202426000488,
  title = {Machine Learning in Healthcare: A Systematic Review},
  author = {Smith, John and Doe, Jane},
  journal = {Nature Medicine},
  year = {2024},
  volume = {30},
  number = {3},
  pages = {123-145},
  doi = {10.1038/s41591-024-12345-6},
  pmid = {26000488},
  abstract = {This systematic review examines the applications of machine learning...},
  publisher = {PubMed},
  url = {https://pubmed.ncbi.nlm.nih.gov/26000488/},
}
```

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: æŸ¥çœ‹å¯¼å‡ºçŠ¶æ€
```json
{
  "name": "pubmed_endnote_status",
  "arguments": {
    "action": "stats"
  }
}
```

**è¿”å›ç»“æœ**:
```json
{
  "success": true,
  "action": "stats",
  "endnote_export": {
    "enabled": true,
    "directory": "/path/to/cache/endnote",
    "totalExports": 25,
    "risFiles": 25,
    "bibtexFiles": 25,
    "lastExport": "2024-01-15T10:30:00.000Z",
    "supportedFormats": ["ris", "bibtex"]
  }
}
```

### ç¤ºä¾‹2: åˆ—å‡ºå¯¼å‡ºçš„è®ºæ–‡
```json
{
  "name": "pubmed_endnote_status",
  "arguments": {
    "action": "list"
  }
}
```

**è¿”å›ç»“æœ**:
```json
{
  "success": true,
  "action": "list",
  "exported_papers": [
    {
      "pmid": "26000488",
      "title": "Machine Learning in Healthcare",
      "formats": {
        "ris": {
          "success": true,
          "filePath": "/path/to/cache/endnote/26000488.ris"
        },
        "bibtex": {
          "success": true,
          "filePath": "/path/to/cache/endnote/26000488.bib"
        }
      },
      "exported": "2024-01-15T10:30:00.000Z"
    }
  ],
  "total": 25
}
```

### ç¤ºä¾‹3: æ¸…ç†è¿‡æœŸæ–‡ä»¶
```json
{
  "name": "pubmed_endnote_status",
  "arguments": {
    "action": "clean"
  }
}
```

**è¿”å›ç»“æœ**:
```json
{
  "success": true,
  "action": "clean",
  "message": "Cleaned 5 expired EndNote export files"
}
```

## ğŸ”§ æŠ€æœ¯å®ç°

### å¯¼å‡ºæµç¨‹
```
æœç´¢è®ºæ–‡ â†’ æå–å…ƒæ•°æ® â†’ ç”ŸæˆRISæ ¼å¼ â†’ ç”ŸæˆBibTeXæ ¼å¼ â†’ ä¿å­˜æ–‡ä»¶ â†’ æ›´æ–°ç´¢å¼•
```

### å…ƒæ•°æ®æå–
- **æ ‡é¢˜**: è®ºæ–‡æ ‡é¢˜
- **ä½œè€…**: ä½œè€…åˆ—è¡¨
- **æœŸåˆŠ**: æœŸåˆŠåç§°
- **æ—¥æœŸ**: å‘è¡¨æ—¥æœŸ
- **å·æœŸ**: å·å·ã€æœŸå·ã€é¡µç 
- **æ ‡è¯†ç¬¦**: DOIã€PMIDã€PMC ID
- **æ‘˜è¦**: è®ºæ–‡æ‘˜è¦
- **å…³é”®è¯**: å…³é”®è¯åˆ—è¡¨

### æ ¼å¼ç”Ÿæˆ
- **RISæ ¼å¼**: éµå¾ªRISæ ‡å‡†ï¼ŒåŒ…å«æ‰€æœ‰å¿…è¦å­—æ®µ
- **BibTeXæ ¼å¼**: ç”Ÿæˆæ ‡å‡†BibTeXæ¡ç›®ï¼Œæ”¯æŒLaTeXå¼•ç”¨
- **æ–‡ä»¶å‘½å**: ä½¿ç”¨PMIDç¡®ä¿å”¯ä¸€æ€§

## âš¡ æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥
- **æ™ºèƒ½ç¼“å­˜**: é¿å…é‡å¤å¯¼å‡ºç›¸åŒè®ºæ–‡
- **å¢é‡æ›´æ–°**: åªå¯¼å‡ºæ–°æœç´¢çš„è®ºæ–‡
- **ç´¢å¼•ç®¡ç†**: å®æ—¶æ›´æ–°å¯¼å‡ºç»Ÿè®¡

### æ–‡ä»¶ç®¡ç†
- **è‡ªåŠ¨æ¸…ç†**: 30å¤©è¿‡æœŸæ–‡ä»¶è‡ªåŠ¨æ¸…ç†
- **å­˜å‚¨ä¼˜åŒ–**: æœ€å°åŒ–æ–‡ä»¶å¤§å°
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **"EndNote export is disabled"**
   - æ£€æŸ¥ `ENDNOTE_EXPORT` ç¯å¢ƒå˜é‡
   - ç¡®ä¿è®¾ç½®ä¸º `enabled`

2. **"Export failed"**
   - æ£€æŸ¥ç¼“å­˜ç›®å½•æƒé™
   - ç¡®è®¤ç£ç›˜ç©ºé—´å……è¶³

3. **"File not found"**
   - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦è¢«æ„å¤–åˆ é™¤
   - é‡æ–°æœç´¢è®ºæ–‡è§¦å‘å¯¼å‡º

4. **"Format error"**
   - æ£€æŸ¥å…ƒæ•°æ®å®Œæ•´æ€§
   - æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
NODE_ENV=development node src/index.js

# æ£€æŸ¥å¯¼å‡ºçŠ¶æ€
# ä½¿ç”¨ pubmed_endnote_status å·¥å…·
```

## ğŸ“ˆ ä½¿ç”¨åœºæ™¯

### 1. å­¦æœ¯ç ”ç©¶
- è‡ªåŠ¨å»ºç«‹æ–‡çŒ®åº“
- æ”¯æŒå¤šç§æ–‡çŒ®ç®¡ç†å·¥å…·
- ä¾¿äºå¼•ç”¨å’Œå†™ä½œ

### 2. æ–‡çŒ®ç»¼è¿°
- æ‰¹é‡å¯¼å…¥ç›¸å…³æ–‡çŒ®
- ç»Ÿä¸€æ ¼å¼ç®¡ç†
- æ”¯æŒåä½œç ”ç©¶

### 3. è®ºæ–‡å†™ä½œ
- ç›´æ¥å¯¼å…¥LaTeXé¡¹ç›®
- æ”¯æŒOverleafç­‰åœ¨çº¿å·¥å…·
- è‡ªåŠ¨ç”Ÿæˆå‚è€ƒæ–‡çŒ®

## ğŸ¯ æœ€ä½³å®è·µ

### 1. ç¯å¢ƒé…ç½®
```bash
# æ¨èé…ç½®
ENDNOTE_EXPORT=enabled
FULLTEXT_MODE=enabled
```

### 2. æ–‡ä»¶ç®¡ç†
- å®šæœŸæ¸…ç†è¿‡æœŸæ–‡ä»¶
- å¤‡ä»½é‡è¦å¯¼å‡ºæ–‡ä»¶
- ç›‘æ§å­˜å‚¨ç©ºé—´ä½¿ç”¨

### 3. å·¥å…·é›†æˆ
- ä½¿ç”¨EndNoteå¯¼å…¥RISæ–‡ä»¶
- ä½¿ç”¨Zoteroå¯¼å…¥RISæ–‡ä»¶
- ä½¿ç”¨LaTeXå¯¼å…¥BibTeXæ–‡ä»¶

## ğŸ”’ æ³¨æ„äº‹é¡¹

### ç‰ˆæƒåˆè§„
- ä»…å¯¼å‡ºå…¬å¼€å¯ç”¨çš„å…ƒæ•°æ®
- ä¸åŒ…å«å—ç‰ˆæƒä¿æŠ¤çš„å†…å®¹
- éµå®ˆå­¦æœ¯ä½¿ç”¨è§„èŒƒ

### æ•°æ®å®‰å…¨
- æœ¬åœ°å­˜å‚¨ï¼Œä¿æŠ¤éšç§
- å®šæœŸå¤‡ä»½é‡è¦æ–‡ä»¶
- æ³¨æ„æ–‡ä»¶è®¿é—®æƒé™

### æ ¼å¼å…¼å®¹
- RISæ ¼å¼å…¼å®¹æ€§æœ€å¥½
- BibTeXé€‚åˆLaTeXç”¨æˆ·
- æ”¯æŒä¸»æµæ–‡çŒ®ç®¡ç†å·¥å…·

## ğŸš€ æœªæ¥æ”¹è¿›

### è®¡åˆ’åŠŸèƒ½
- **æ‰¹é‡å¯¼å‡º**: æ”¯æŒæ‰¹é‡ä¸‹è½½æ‰€æœ‰å¯¼å‡ºæ–‡ä»¶
- **æ ¼å¼è½¬æ¢**: æ”¯æŒæ›´å¤šå¯¼å‡ºæ ¼å¼
- **äº‘ç«¯åŒæ­¥**: æ”¯æŒäº‘å­˜å‚¨åŒæ­¥

### æ€§èƒ½ä¼˜åŒ–
- **å¹¶è¡Œå¤„ç†**: å¤šçº¿ç¨‹å¯¼å‡ºæ”¯æŒ
- **å‹ç¼©å­˜å‚¨**: æ–‡ä»¶å‹ç¼©å‡å°‘å­˜å‚¨ç©ºé—´
- **æ™ºèƒ½å»é‡**: è‡ªåŠ¨è¯†åˆ«é‡å¤è®ºæ–‡

---

**ğŸ‰ EndNoteå¯¼å‡ºåŠŸèƒ½è®©æ–‡çŒ®ç®¡ç†æ›´åŠ é«˜æ•ˆï¼**

é€šè¿‡è‡ªåŠ¨å¯¼å‡ºRISå’ŒBibTeXæ ¼å¼ï¼Œæ‚¨å¯ä»¥è½»æ¾å°†PubMedæœç´¢ç»“æœå¯¼å…¥åˆ°ä»»ä½•æ–‡çŒ®ç®¡ç†å·¥å…·ä¸­ï¼Œå¤§å¤§æå‡ç ”ç©¶æ•ˆç‡ã€‚
