---
alwaysApply: true
description: MCP PubMed服务器项目结构指导
---

# MCP PubMed服务器项目结构

## 核心架构
这是一个**MCP (Model Context Protocol) 服务器**，专门为LLM提供PubMed文献数据服务。

### 主要入口点
- **主服务器**: [src/index.js](mdc:src/index.js) - 包含完整的PubMedDataServer类
- **配置文件**: [config/mcp-config.json](mdc:config/mcp-config.json) - MCP服务器配置
- **环境配置**: `.env` 文件 - 包含PubMed API密钥和邮箱

### 项目结构
```
mcp-pubmed-server/
├── src/
│   └── index.js              # 主服务器代码 (1352行)
├── config/
│   ├── mcp-config.json       # MCP配置模板
│   └── claude_desktop_config.json  # Claude Desktop配置
├── .cursor/rules/            # Cursor规则目录
├── package.json              # 项目依赖配置
└── README.md                 # 详细文档
```

## 核心功能模块

### 1. PubMedDataServer类
- **位置**: [src/index.js](mdc:src/index.js) 第28行开始
- **功能**: 主要的MCP服务器实现
- **特点**: 包含缓存管理、速率限制、错误处理

### 2. 5个核心工具
1. `pubmed_search` - 智能文献搜索
2. `pubmed_get_details` - 详细信息获取  
3. `pubmed_extract_key_info` - 关键信息提取
4. `pubmed_cross_reference` - 交叉引用分析
5. `pubmed_batch_query` - 批量查询优化

### 3. 缓存系统
- **内存缓存**: Map对象，5分钟过期，LRU淘汰
- **文件缓存**: JSON文件，30天过期，持久化存储
- **缓存目录**: `cache/papers/` 和 `cache/index.json`

## 开发原则
- **极简架构**: 专注数据提供，不包含复杂业务逻辑
- **LLM优化**: 输出格式专门为LLM分析优化
- **性能优先**: 智能缓存、速率限制、批量处理
- **错误处理**: 完善的异常捕获和用户友好的错误信息